<mxfile host="app.diagrams.net" agent="draw.io" version="28.1.2">
  <diagram name="FreStyle AWS Architecture" id="freestyle-current-arch">
    <mxGraphModel dx="2037" dy="1356" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="3300" pageHeight="2800" background="#ffffff" math="0" shadow="1">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- ===== Users ===== -->
        <mxCell id="users" value="&lt;font style=&quot;font-size: 23px;&quot;&gt;users&lt;/font&gt;" style="sketch=0;outlineConnect=0;gradientColor=none;fontColor=#545B64;strokeColor=none;fillColor=#879196;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.illustration_users;pointerEvents=1" parent="1" vertex="1">
          <mxGeometry x="60" y="880" width="100" height="100" as="geometry" />
        </mxCell>

        <!-- ===== CI/CD: GitHub ===== -->
        <mxCell id="github" value="" style="verticalLabelPosition=bottom;html=1;verticalAlign=top;align=center;strokeColor=none;fillColor=#00BEF2;shape=mxgraph.azure.github_code;pointerEvents=1;" parent="1" vertex="1">
          <mxGeometry x="380" y="100" width="97" height="92" as="geometry" />
        </mxCell>

        <!-- ===== CI/CD: ECR group ===== -->
        <mxCell id="ecr_group" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="620" y="95" width="173" height="119" as="geometry" />
        </mxCell>
        <mxCell id="ecr_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ecr;" parent="ecr_group" vertex="1">
          <mxGeometry width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="ecr_label" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 21px;&quot;&gt;ECR&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ecr_group" vertex="1">
          <mxGeometry x="9" y="89" width="60" height="30" as="geometry" />
        </mxCell>

        <!-- ===== CI/CD: ECS on Fargate group ===== -->
        <mxCell id="ecs_top_group" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="930" y="88" width="153" height="138" as="geometry" />
        </mxCell>
        <mxCell id="ecs_top_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ecs;" parent="ecs_top_group" vertex="1">
          <mxGeometry x="37" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="ecs_top_label" value="&lt;font style=&quot;font-size: 21px;&quot; color=&quot;#000000&quot;&gt;&lt;span&gt;ECS on Fargate&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ecs_top_group" vertex="1">
          <mxGeometry y="70" width="153" height="68" as="geometry" />
        </mxCell>

        <!-- ===== Email ===== -->
        <mxCell id="email_group" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="2350" y="2100" width="173" height="140" as="geometry" />
        </mxCell>
        <mxCell id="email_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#232F3E;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.email;" parent="email_group" vertex="1">
          <mxGeometry x="47.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="email_label" value="&lt;font style=&quot;font-size: 21px;&quot; color=&quot;#000000&quot;&gt;&lt;span&gt;Email（Gmail）&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="email_group" vertex="1">
          <mxGeometry y="90" width="173" height="50" as="geometry" />
        </mxCell>

        <!-- ===== AWS Cloud ===== -->
        <mxCell id="aws_cloud" value="&lt;font style=&quot;font-size: 23px;&quot;&gt;AWS Cloud&lt;/font&gt;" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_aws_cloud_alt;strokeColor=#232F3E;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#232F3E;dashed=0;" parent="1" vertex="1">
          <mxGeometry x="250" y="350" width="2100" height="1700" as="geometry" />
        </mxCell>

        <!-- == WAF group == -->
        <mxCell id="waf_group" value="" style="group" parent="aws_cloud" vertex="1" connectable="0">
          <mxGeometry x="30" y="200" width="173" height="140" as="geometry" />
        </mxCell>
        <mxCell id="waf_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.wafv2;" parent="waf_group" vertex="1">
          <mxGeometry x="47.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="waf_label" value="&lt;font style=&quot;font-size: 21px;&quot; color=&quot;#000000&quot;&gt;&lt;span&gt;WAF&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="waf_group" vertex="1">
          <mxGeometry y="90" width="173" height="50" as="geometry" />
        </mxCell>

        <!-- == CloudFront group == -->
        <mxCell id="cf_group" value="" style="group" parent="aws_cloud" vertex="1" connectable="0">
          <mxGeometry x="30" y="450" width="173" height="140" as="geometry" />
        </mxCell>
        <mxCell id="cf_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudfront;" parent="cf_group" vertex="1">
          <mxGeometry x="47.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="cf_label" value="&lt;font style=&quot;font-size: 21px;&quot; color=&quot;#000000&quot;&gt;&lt;span&gt;CloudFront&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="cf_group" vertex="1">
          <mxGeometry y="90" width="173" height="50" as="geometry" />
        </mxCell>

        <!-- == S3 (React) group == -->
        <mxCell id="s3fe_group" value="" style="group" parent="aws_cloud" vertex="1" connectable="0">
          <mxGeometry x="30" y="700" width="173" height="140" as="geometry" />
        </mxCell>
        <mxCell id="s3fe_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;" parent="s3fe_group" vertex="1">
          <mxGeometry x="47.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="s3fe_label" value="&lt;font style=&quot;font-size: 21px;&quot; color=&quot;#000000&quot;&gt;&lt;span&gt;S3（React）&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="s3fe_group" vertex="1">
          <mxGeometry y="90" width="173" height="50" as="geometry" />
        </mxCell>

        <!-- == Cognito group == -->
        <mxCell id="cognito_group" value="" style="group" parent="aws_cloud" vertex="1" connectable="0">
          <mxGeometry x="850" y="30" width="173" height="146" as="geometry" />
        </mxCell>
        <mxCell id="cognito_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cognito;" parent="cognito_group" vertex="1">
          <mxGeometry x="47.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="cognito_label" value="&lt;font style=&quot;font-size: 21px;&quot; color=&quot;#000000&quot;&gt;&lt;span&gt;Cognito（JWT）&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="cognito_group" vertex="1">
          <mxGeometry y="86" width="173" height="60" as="geometry" />
        </mxCell>

        <!-- == Public Subnet == -->
        <mxCell id="pub_sub" value="Public subnet" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#7AA116;fillColor=#F2F6E8;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;" parent="aws_cloud" vertex="1">
          <mxGeometry x="310" y="250" width="300" height="350" as="geometry" />
        </mxCell>
        <mxCell id="alb_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elastic_load_balancing;" parent="pub_sub" vertex="1">
          <mxGeometry x="111" y="80" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="alb_label" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 21px;&quot;&gt;ALB&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="pub_sub" vertex="1">
          <mxGeometry x="63" y="170" width="173" height="60" as="geometry" />
        </mxCell>

        <!-- == Private Subnet == -->
        <mxCell id="priv_sub" value="Private subnet" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#00A4A6;fillColor=#E6F6F7;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=0;" parent="aws_cloud" vertex="1">
          <mxGeometry x="710" y="200" width="850" height="650" as="geometry" />
        </mxCell>

        <!-- Spot Fleet (ECS Fargate) -->
        <mxCell id="spot_fleet" value="ECS Fargate (2 vCPU / 4GB)" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_spot_fleet;strokeColor=#D86613;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#D86613;dashed=0;" parent="priv_sub" vertex="1">
          <mxGeometry x="30" y="40" width="480" height="370" as="geometry" />
        </mxCell>

        <!-- Fargate (Spring Boot) -->
        <mxCell id="fargate_group" value="" style="group" parent="spot_fleet" vertex="1" connectable="0">
          <mxGeometry x="40" y="80" width="173" height="152" as="geometry" />
        </mxCell>
        <mxCell id="fargate_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.fargate;" parent="fargate_group" vertex="1">
          <mxGeometry x="47.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="fargate_label" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 21px;&quot;&gt;Fargate（Spring）&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="fargate_group" vertex="1">
          <mxGeometry y="78" width="173" height="74" as="geometry" />
        </mxCell>

        <!-- X-Ray Daemon (sidecar) -->
        <mxCell id="xrayd_group" value="" style="group" parent="spot_fleet" vertex="1" connectable="0">
          <mxGeometry x="270" y="80" width="173" height="152" as="geometry" />
        </mxCell>
        <mxCell id="xrayd_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudwatch_2;" parent="xrayd_group" vertex="1">
          <mxGeometry x="47.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="xrayd_label" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 21px;&quot;&gt;X-Ray Daemon&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xrayd_group" vertex="1">
          <mxGeometry y="78" width="173" height="74" as="geometry" />
        </mxCell>

        <!-- Database area -->
        <mxCell id="db_area" value="&lt;font style=&quot;font-size: 23px;&quot;&gt;Database&lt;/font&gt;" style="fillColor=none;strokeColor=#5A6C86;dashed=1;verticalAlign=top;fontStyle=0;fontColor=#5A6C86;whiteSpace=wrap;html=1;" parent="priv_sub" vertex="1">
          <mxGeometry x="560" y="40" width="260" height="570" as="geometry" />
        </mxCell>

        <!-- RDS group -->
        <mxCell id="rds_group" value="" style="group" parent="priv_sub" vertex="1" connectable="0">
          <mxGeometry x="604" y="100" width="173" height="141" as="geometry" />
        </mxCell>
        <mxCell id="rds_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.rds;" parent="rds_group" vertex="1">
          <mxGeometry x="47.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="rds_label" value="&lt;font style=&quot;font-size: 21px;&quot; color=&quot;#000000&quot;&gt;&lt;span&gt;RDS&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="rds_group" vertex="1">
          <mxGeometry y="87" width="173" height="54" as="geometry" />
        </mxCell>

        <!-- DynamoDB group -->
        <mxCell id="ddb_group" value="" style="group" parent="priv_sub" vertex="1" connectable="0">
          <mxGeometry x="597" y="320" width="176" height="143" as="geometry" />
        </mxCell>
        <mxCell id="ddb_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" parent="ddb_group" vertex="1">
          <mxGeometry x="48" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="ddb_label" value="&lt;font style=&quot;font-size: 21px;&quot; color=&quot;#000000&quot;&gt;&lt;span&gt;DynamoDB&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ddb_group" vertex="1">
          <mxGeometry y="82" width="176" height="61" as="geometry" />
        </mxCell>

        <!-- == Bedrock group == -->
        <mxCell id="bedrock_group" value="" style="group" parent="aws_cloud" vertex="1" connectable="0">
          <mxGeometry x="1680" y="250" width="173" height="156" as="geometry" />
        </mxCell>
        <mxCell id="bedrock_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#01A88D;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.bedrock;" parent="bedrock_group" vertex="1">
          <mxGeometry x="47.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="bedrock_label" value="&lt;font style=&quot;font-size: 21px;&quot; color=&quot;#000000&quot;&gt;&lt;span&gt;Bedrock&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="bedrock_group" vertex="1">
          <mxGeometry y="94" width="173" height="62" as="geometry" />
        </mxCell>

        <!-- == S3 Images group == -->
        <mxCell id="s3img_group" value="" style="group" parent="aws_cloud" vertex="1" connectable="0">
          <mxGeometry x="1680" y="500" width="173" height="140" as="geometry" />
        </mxCell>
        <mxCell id="s3img_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;" parent="s3img_group" vertex="1">
          <mxGeometry x="47.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="s3img_label" value="&lt;font style=&quot;font-size: 21px;&quot; color=&quot;#000000&quot;&gt;&lt;span&gt;S3（Note Images）&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="s3img_group" vertex="1">
          <mxGeometry y="90" width="173" height="50" as="geometry" />
        </mxCell>

        <!-- == SQS group == -->
        <mxCell id="sqs_group" value="" style="group" parent="aws_cloud" vertex="1" connectable="0">
          <mxGeometry x="1680" y="750" width="173" height="140" as="geometry" />
        </mxCell>
        <mxCell id="sqs_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sqs;" parent="sqs_group" vertex="1">
          <mxGeometry x="47.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="sqs_label" value="&lt;font style=&quot;font-size: 21px;&quot; color=&quot;#000000&quot;&gt;&lt;span&gt;SQS&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="sqs_group" vertex="1">
          <mxGeometry y="90" width="173" height="50" as="geometry" />
        </mxCell>

        <!-- == SQS DLQ group == -->
        <mxCell id="dlq_group" value="" style="group" parent="aws_cloud" vertex="1" connectable="0">
          <mxGeometry x="1900" y="750" width="173" height="140" as="geometry" />
        </mxCell>
        <mxCell id="dlq_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sqs;" parent="dlq_group" vertex="1">
          <mxGeometry x="47.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="dlq_label" value="&lt;font style=&quot;font-size: 21px;&quot; color=&quot;#000000&quot;&gt;&lt;span&gt;SQS DLQ&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="dlq_group" vertex="1">
          <mxGeometry y="90" width="173" height="50" as="geometry" />
        </mxCell>

        <!-- == API Gateway group == -->
        <mxCell id="apigw_group" value="" style="group" parent="aws_cloud" vertex="1" connectable="0">
          <mxGeometry x="310" y="1050" width="173" height="147" as="geometry" />
        </mxCell>
        <mxCell id="apigw_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;" parent="apigw_group" vertex="1">
          <mxGeometry x="47.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="apigw_label" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 21px;&quot;&gt;API Gateway&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="apigw_group" vertex="1">
          <mxGeometry y="94" width="173" height="53" as="geometry" />
        </mxCell>

        <!-- == Lambda group == -->
        <mxCell id="lambda_group" value="" style="group" parent="aws_cloud" vertex="1" connectable="0">
          <mxGeometry x="600" y="1050" width="173" height="154" as="geometry" />
        </mxCell>
        <mxCell id="lambda_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" parent="lambda_group" vertex="1">
          <mxGeometry x="47.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="lambda_label" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 21px;&quot;&gt;Lambda&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="lambda_group" vertex="1">
          <mxGeometry y="94" width="173" height="60" as="geometry" />
        </mxCell>

        <!-- == CloudWatch group == -->
        <mxCell id="cw_group" value="" style="group" parent="aws_cloud" vertex="1" connectable="0">
          <mxGeometry x="1000" y="1200" width="173" height="150" as="geometry" />
        </mxCell>
        <mxCell id="cw_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudwatch_2;" parent="cw_group" vertex="1">
          <mxGeometry x="47.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="cw_label" value="&lt;font style=&quot;font-size: 21px;&quot; color=&quot;#000000&quot;&gt;&lt;span&gt;CloudWatch&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="cw_group" vertex="1">
          <mxGeometry y="90" width="173" height="60" as="geometry" />
        </mxCell>

        <!-- == X-Ray group == -->
        <mxCell id="xray_group" value="" style="group" parent="aws_cloud" vertex="1" connectable="0">
          <mxGeometry x="1300" y="1200" width="173" height="150" as="geometry" />
        </mxCell>
        <mxCell id="xray_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudwatch_2;" parent="xray_group" vertex="1">
          <mxGeometry x="47.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="xray_label" value="&lt;font style=&quot;font-size: 21px;&quot; color=&quot;#000000&quot;&gt;&lt;span&gt;X-Ray&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xray_group" vertex="1">
          <mxGeometry y="90" width="173" height="60" as="geometry" />
        </mxCell>

        <!-- == SNS group == -->
        <mxCell id="sns_group" value="" style="group" parent="aws_cloud" vertex="1" connectable="0">
          <mxGeometry x="1600" y="1200" width="173" height="150" as="geometry" />
        </mxCell>
        <mxCell id="sns_icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sns;" parent="sns_group" vertex="1">
          <mxGeometry x="47.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="sns_label" value="&lt;font style=&quot;font-size: 21px;&quot; color=&quot;#000000&quot;&gt;&lt;span&gt;SNS&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="sns_group" vertex="1">
          <mxGeometry y="90" width="173" height="60" as="geometry" />
        </mxCell>

        <!-- == WebSocket label == -->
        <mxCell id="ws_label" value="&lt;font style=&quot;font-size: 21px;&quot; color=&quot;#000000&quot;&gt;&lt;span&gt;WebSocket通信&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="aws_cloud" vertex="1">
          <mxGeometry x="350" y="970" width="255" height="60" as="geometry" />
        </mxCell>

        <!-- == Monitoring label == -->
        <mxCell id="mon_label" value="&lt;font style=&quot;font-size: 21px;&quot; color=&quot;#000000&quot;&gt;&lt;span&gt;モニタリング &amp;amp; アラート&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="aws_cloud" vertex="1">
          <mxGeometry x="1150" y="1130" width="300" height="60" as="geometry" />
        </mxCell>

        <!-- ========== EDGES ========== -->

        <!-- Users → WAF -->
        <mxCell id="e1" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;" parent="1" source="users" target="waf_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- WAF → CloudFront -->
        <mxCell id="e2" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;" parent="1" source="waf_icon" target="cf_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- CloudFront → S3 (static) -->
        <mxCell id="e3" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;dashed=1;" parent="1" source="cf_icon" target="s3fe_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- CloudFront → ALB -->
        <mxCell id="e4" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;" parent="1" source="cf_icon" target="alb_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ALB → Fargate -->
        <mxCell id="e5" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;" parent="1" source="alb_icon" target="fargate_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Fargate → RDS -->
        <mxCell id="e6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="fargate_icon" target="rds_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Fargate → DynamoDB -->
        <mxCell id="e7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="fargate_icon" target="ddb_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Fargate → Cognito -->
        <mxCell id="e8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="fargate_icon" target="cognito_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Fargate → Bedrock -->
        <mxCell id="e9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="fargate_icon" target="bedrock_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Fargate → S3 Images -->
        <mxCell id="e10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="fargate_icon" target="s3img_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Fargate → SQS -->
        <mxCell id="e11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="fargate_icon" target="sqs_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- SQS → DLQ -->
        <mxCell id="e12" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;dashed=1;" parent="1" source="sqs_icon" target="dlq_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Cognito → ALB (auth) -->
        <mxCell id="e13" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;" parent="1" source="cognito_icon" target="alb_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- X-Ray Daemon → X-Ray -->
        <mxCell id="e14" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;dashed=1;" parent="1" source="xrayd_icon" target="xray_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Fargate → CloudWatch -->
        <mxCell id="e15" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;dashed=1;" parent="1" source="fargate_icon" target="cw_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- CloudWatch → SNS -->
        <mxCell id="e16" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;" parent="1" source="cw_icon" target="sns_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- SNS → Email -->
        <mxCell id="e17" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;" parent="1" source="sns_icon" target="email_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- GitHub → ECR -->
        <mxCell id="e18" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;" parent="1" source="github" target="ecr_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ECR → ECS on Fargate -->
        <mxCell id="e19" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;" parent="1" source="ecr_icon" target="ecs_top_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ECS top → Fargate (deploy) -->
        <mxCell id="e20" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;dashed=1;" parent="1" source="ecs_top_icon" target="fargate_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- API Gateway → Lambda -->
        <mxCell id="e21" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;" parent="1" source="apigw_icon" target="lambda_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Lambda → DynamoDB -->
        <mxCell id="e22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="lambda_icon" target="ddb_icon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
